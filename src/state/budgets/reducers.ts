import { Budgets } from ".";
import { BudgetsAction } from "./actions";
import actionTypes from "./types";

export const sampleState: Budgets = {
  "202001": {
    categoryBudgets: {
      "3186020163": {
        amount: 30000,
        category: { name: "食費", id: "E3cnHvL8SwPTbn4ChMWq" },
        userId: "",
      },
      "7081388040": {
        amount: 20000,
        category: { name: "娯楽", id: "fGUwZnNss1Nnmvtdteoi" },
        userId: "",
      },
      "9309824704": {
        amount: 3000,
        category: { name: "書籍", id: "w2IJ86mtXfcNyRm23aw4" },
        userId: "",
      },
      "4932031535": {
        amount: 12000,
        category: { name: "雑費", id: "4fgOOb41j82zZxyCBQcS" },
        userId: "",
      },
      "6911870738": {
        amount: 5000,
        category: { name: "交通費", id: "pXhYzqbyOrjGnSmZJMFN" },
        userId: "",
      },
      "8536650673": {
        amount: 30000,
        category: { name: "固定費", id: "XKZ5LP61ZgRGWeRFTboV" },
        userId: "",
      },
      "1483808733": {
        amount: 45000,
        category: { name: "貯金", id: "WO0O1eUgpwzGj49EmzZW" },
        userId: "",
      },
    },
  },
  "202002": {
    categoryBudgets: {
      "3186020163": {
        amount: 30000,
        category: { name: "食費", id: "E3cnHvL8SwPTbn4ChMWq" },
        userId: "",
      },
      "7081388040": {
        amount: 70000,
        category: { name: "娯楽", id: "fGUwZnNss1Nnmvtdteoi" },
        userId: "",
      },
      "9309824704": {
        amount: 3000,
        category: { name: "書籍", id: "w2IJ86mtXfcNyRm23aw4" },
        userId: "",
      },
      "4932031535": {
        amount: 12000,
        category: { name: "雑費", id: "4fgOOb41j82zZxyCBQcS" },
        userId: "",
      },
      "6911870738": {
        amount: 5000,
        category: { name: "交通費", id: "pXhYzqbyOrjGnSmZJMFN" },
        userId: "",
      },
      "8536650673": {
        amount: 30000,
        category: { name: "固定費", id: "XKZ5LP61ZgRGWeRFTboV" },
        userId: "",
      },
      "1483808733": {
        amount: 45000,
        category: { name: "貯金", id: "WO0O1eUgpwzGj49EmzZW" },
        userId: "",
      },
    },
  },
  "202003": {
    categoryBudgets: {
      "3186020163": {
        amount: 30000,
        category: { name: "食費", id: "E3cnHvL8SwPTbn4ChMWq" },
        userId: "",
      },
      "7081388040": {
        amount: 10000,
        category: { name: "娯楽", id: "fGUwZnNss1Nnmvtdteoi" },
        userId: "",
      },
      "9309824704": {
        amount: 3000,
        category: { name: "書籍", id: "w2IJ86mtXfcNyRm23aw4" },
        userId: "",
      },
      "4932031535": {
        amount: 12000,
        category: { name: "雑費", id: "4fgOOb41j82zZxyCBQcS" },
        userId: "",
      },
      "6911870738": {
        amount: 5000,
        category: { name: "交通費", id: "pXhYzqbyOrjGnSmZJMFN" },
        userId: "",
      },
      "8536650673": {
        amount: 30000,
        category: { name: "固定費", id: "XKZ5LP61ZgRGWeRFTboV" },
        userId: "",
      },
      "1483808733": {
        amount: 45000,
        category: { name: "貯金", id: "WO0O1eUgpwzGj49EmzZW" },
        userId: "",
      },
    },
  },
  "202004": {
    categoryBudgets: {
      "3186020163": {
        amount: 30000,
        category: { name: "食費", id: "E3cnHvL8SwPTbn4ChMWq" },
        userId: "",
      },
      "7081388040": {
        amount: 50000,
        category: { name: "娯楽", id: "fGUwZnNss1Nnmvtdteoi" },
        userId: "",
      },
      "9309824704": {
        amount: 3000,
        category: { name: "書籍", id: "w2IJ86mtXfcNyRm23aw4" },
        userId: "",
      },
      "4932031535": {
        amount: 12000,
        category: { name: "雑費", id: "4fgOOb41j82zZxyCBQcS" },
        userId: "",
      },
      "6911870738": {
        amount: 5000,
        category: { name: "交通費", id: "pXhYzqbyOrjGnSmZJMFN" },
        userId: "",
      },
      "8536650673": {
        amount: 30000,
        category: { name: "固定費", id: "XKZ5LP61ZgRGWeRFTboV" },
        userId: "",
      },
      "1483808733": {
        amount: 45000,
        category: { name: "貯金", id: "WO0O1eUgpwzGj49EmzZW" },
        userId: "",
      },
    },
  },
  "202005": {
    categoryBudgets: {
      "3186020163": {
        amount: 30000,
        category: { name: "食費", id: "E3cnHvL8SwPTbn4ChMWq" },
        userId: "",
      },
      "7081388040": {
        amount: 50000,
        category: { name: "娯楽", id: "fGUwZnNss1Nnmvtdteoi" },
        userId: "",
      },
      "9309824704": {
        amount: 3000,
        category: { name: "書籍", id: "w2IJ86mtXfcNyRm23aw4" },
        userId: "",
      },
      "4932031535": {
        amount: 12000,
        category: { name: "雑費", id: "4fgOOb41j82zZxyCBQcS" },
        userId: "",
      },
      "6911870738": {
        amount: 5000,
        category: { name: "交通費", id: "pXhYzqbyOrjGnSmZJMFN" },
        userId: "",
      },
      "8536650673": {
        amount: 30000,
        category: { name: "固定費", id: "XKZ5LP61ZgRGWeRFTboV" },
        userId: "",
      },
      "1483808733": {
        amount: 45000,
        category: { name: "貯金", id: "WO0O1eUgpwzGj49EmzZW" },
        userId: "",
      },
    },
  },
  "202006": {
    categoryBudgets: {
      "3186020163": {
        amount: 30000,
        category: { name: "食費", id: "E3cnHvL8SwPTbn4ChMWq" },
        userId: "",
      },
      "7081388040": {
        amount: 50000,
        category: { name: "娯楽", id: "fGUwZnNss1Nnmvtdteoi" },
        userId: "",
      },
      "9309824704": {
        amount: 3000,
        category: { name: "書籍", id: "w2IJ86mtXfcNyRm23aw4" },
        userId: "",
      },
      "4932031535": {
        amount: 12000,
        category: { name: "雑費", id: "4fgOOb41j82zZxyCBQcS" },
        userId: "",
      },
      "6911870738": {
        amount: 5000,
        category: { name: "交通費", id: "pXhYzqbyOrjGnSmZJMFN" },
        userId: "",
      },
      "8536650673": {
        amount: 30000,
        category: { name: "固定費", id: "XKZ5LP61ZgRGWeRFTboV" },
        userId: "",
      },
      "1483808733": {
        amount: 45000,
        category: { name: "貯金", id: "WO0O1eUgpwzGj49EmzZW" },
        userId: "",
      },
    },
  },
};

const initialState: Budgets = sampleState;

const reducer = (
  state: Budgets = initialState,
  action: BudgetsAction
): Budgets => {
  const newState = Object.assign({}, state);
  switch (action.type) {
    case actionTypes.CREATE_BUDGET: {
      newState[action.payload.yyyymm] = {
        categoryBudgets: {},
      };
      newState[action.payload.yyyymm].categoryBudgets =
        action.payload.categoryBudgets;
      return newState;
    }
    case actionTypes.UPDATE_BUDGET: {
      newState[action.payload.yyyymm].categoryBudgets[action.payload.budgetId] =
        action.payload.budget;
      return newState;
    }
    case actionTypes.DELETE_BUDGET: {
      delete newState[action.payload.yyyymm];
      return newState;
    }
    case actionTypes.UPDATE_ALL_BUDGETS_FROM_FIRESTORE: {
      return action.payload;
    }
    default:
      return state;
  }
};

export default reducer;
